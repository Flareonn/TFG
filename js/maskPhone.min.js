function maskPhone(e,t="+7 (___) ___-__-__"){const n=document.querySelectorAll(e);function l(e){const n=e.keyCode,l=t,r=l.replace(/\D/g,""),u=this.value.replace(/\D/g,"");let s=0,a=l.replace(/[_\d]/g,(function(e){return s<u.length?u.charAt(s++)||r.charAt(s):e}));s=a.indexOf("_"),-1!==s&&(a=a.slice(0,s));let c=l.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");c=new RegExp("^"+c+"$"),(!c.test(this.value)||this.value.length<5||n>47&&n<58)&&(this.value=a),"blur"===e.type&&this.value.length<5&&(this.value="")}for(const e of n)e.addEventListener("input",l),e.addEventListener("focus",l),e.addEventListener("blur",l)}